function AppController(t,e,r,o,a,i){App=this,e.$on("$stateChangeSuccess",function(t,r,o,a,i){e.windowSize=$(window).height()-170}),e.windowSize=$(window).height()-170,t(function(){})}function api(t,e,r,o,a,i){var n={IsPagination:!1,PageIndex:1,PageSize:10},l=i("http");t.setDefaultHttpFields({cache:l,headers:{common:{"Cache-Control":"no-cache"},get:{"If-Modified-Since":"0"}}}),t.setResponseInterceptor(function(t,e){return l.removeAll(),t});var s=function(o,i){var l=t.all(o).withHttpConfig({timeout:9e4}),s=this,c=null,u=configApi.Url,d=o;t.setBaseUrl(u),t.setErrorInterceptor(function(t,r,o){return t.status!==-1||t.config.url.indexOf(urlApi+"?")!==-1||(swal("Tempo de Resposta Excedido","O servidor teve problemas em retornar sua solicitação. Por favor tente novamente mais tarde","error"),$.post(urlApi+"api/log/SalvarLog",{CodLogErro:0,Erro:"timeout "+a.current.url,Url:t.config.url,Login:e.usuarioAcesso.nrFunc,Excecao:"",DtEvento:moment().format("YYYY-MM-DD HH:mm:ss.SSS")}),!1)}),this.filter=angular.copy(n),this.get=function(){s.filter.rdm=Math.random(),void 0!=s.attr&&null!=s.attr&&(s.filter.AttributeBehavior=s.attr);var t={};if(void 0!=s.optz&&(s.filter.QueryOptimizerBehavior=s.optz),void 0!=s.filter.key){var e=s.filter.key;s.filter.key=null,t=l.customGET(e,s.filter)}else if(void 0!=s.datatable&&null!=s.datatable){if(void 0!=s.searchByColunm&&null!=s.searchByColunm){var o=[],a=s.searchByColunm||[],i=s.tableId;if(0==$("#"+i+" thead td input").length){var u="<tr>",d=0;$("#"+i+" thead th").each(function(){var t=($(this).text(),!1);for(var e in a)a[e]==d&&(u+='<td><input type="text" dt-column="'+d+'" style="width:100%" /></td>',t=!0);t||(u+="<td></td>"),d++}),u+="</tr>",$("#"+i+" thead").append(u);var m=$("#"+i).DataTable();$("#"+i+" thead td input").on("keyup change",function(){null!=c&&r.cancel(c),c=r(function(){m.columns($(this).attr("dt-column")).search($(this).val()).draw()},300)}),$("#"+i).parent().parent().prev().find("#dt_filter").hide(),$("#"+i).parent().css("overflow-x","auto")}for(var d in $("#"+i).DataTable().context[0].aoColumns)o.push({search:"",colunmName:$("#"+i).DataTable().context[0].aoColumns[d].name||$("#"+i).DataTable().context[0].aoColumns[d].data});$("#"+i+" thead td input").each(function(){var t=$.trim($(this).attr("dt-column"));""!=t&&(o[t].search=$(this).val())})}var p="";if(1==s.customList)p="GetDataListCustom";else{s.filter.IsPagination=!0,s.filter.PageSize=s.datatable.length,s.filter.PageIndex=s.datatable.start<=0?1:s.datatable.start/s.datatable.length+1,s.filter.IsOrderByDynamic=!0,s.filter.OrderFields=s.datatable.columns[s.datatable.order[0].column].data;for(var d in o)""!=$.trim(o[d].search)&&(s.filter[o[d].colunmName]=o[d].search)}s.filter.orderByType="desc"==s.datatable.order[0].dir?"OrderByDescending":"OrderBy",t=l.customGET(p,s.filter).then(function(t){s.callback({recordsTotal:void 0==t.Summary?0:t.Summary.Total,recordsFiltered:void 0==t.Summary?0:t.Summary.Total,data:void 0==t.Summary?t:t.DataList})}),s.datatable=null}else 1==s.customList?(t=l.customGET("GetDataListCustom",s.filter),s.customList=!1):1==s.byModel?(t=l.customGET("GetByModel",s.filter),s.byModel=!1):1==s.customGET?(t=l.customGET("",s.filter),s.customGET=!1):t=l.getList(s.filter);return s.filter=angular.copy(n),s.attr=null,s.optz=null,s.customList=!1,t},this.post=function(t,e){void 0!=s.attr&&null!=s.attr&&(t.AttributeBehavior=s.attr);var r=null;return r=e?jQuery.post(u+d,t):"[object Array]"===Object.prototype.toString.call(t)?l.all("postmany").post(t):l.post(t),s.filter=angular.copy(n),r},this.put=function(t){return void 0!=s.attr&&null!=s.attr&&(t.AttributeBehavior=s.attr),s.filter=angular.copy(n),l.customPUT(t)},this.delete=function(){var t={};return t=void 0!=s.filter.key?l.remove(s.filter.key):l.remove(s.filter),s.filter=angular.copy(n),t}};this.obj=function(t,e){return new s(t,e)}}function config(t,e,r,o,a){var i=Math.random();e.otherwise("/home"),a.setBaseUrl(""),r.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension):/),o.hashPrefix(""),t.state("template",{url:"",abstract:!0,templateUrl:"views/templates/layout.html?r="+i,controller:"AppController as App"}).state("template.home",{url:"/home",templateUrl:"views/home/home.html?r="+i,controller:"HomeController as Home"}),a.setResponseExtractor(function(t,e,r){return void 0!=t.Data?t.Data:"GetDataListCustom"==r||"GetByModel"==r?t.DataList:void 0!=t.DataList?t.DataList:"[object Array]"!==Object.prototype.toString.call(t)?[t]:t})}function HomeController(t,e,r,o,a,i){Home=this}function wyseditor(t){return{restrict:"A",require:"ngModel",link:function(e,r,o,a){t(function(){tinymce.remove(),tinymce.init({selector:".editor",toolbar:"undo redo | styleselect | bold italic | link image",language_url:"js/tinymce/langs/pt_BR.js",init_instance_callback:function(t){t.on("blur",function(t){var e=tinymce.activeEditor.getContent();a.$setViewValue(e),a.$render()})}})},100)}}}var configApi={Url:"http://localhost:60438/api/"},refState,App;AppController.$inject=["$timeout","$rootScope","$uibModal","api","$cookies","$state"],api.$inject=["Restangular","$rootScope","$timeout","$http","$state","$cacheFactory"],appAngular=angular.module("app",["ui.router","ui.bootstrap","ui.slimscroll","ngTouch","ngSanitize","restangular","ngCookies","angular.filter"]).controller("AppController",AppController).controller("HomeController",HomeController).config(config).service("api",api),config.$inject=["$stateProvider","$urlRouterProvider","$compileProvider","$locationProvider","RestangularProvider"];var Home;HomeController.$inject=["$timeout","$rootScope","$uibModal","api","$cookies","$state"],wyseditor.$inject=["$timeout"];
//# sourceMappingURL=app.min.js.map
